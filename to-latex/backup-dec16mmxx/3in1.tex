\documentclass[14pt]{extarticle}

\usepackage[utf8]{inputenc}

\usepackage{geometry}
\geometry{papersize={21cm, 29.7cm}} % A4
\geometry{tmargin=2cm, bmargin=2cm, outer=2cm, inner=2cm, head=2cm, foot=2cm}

\usepackage{graphicx}

\renewcommand\thepage{\oldstylenums{\arabic{page}}}

\usepackage{fancyhdr}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}
\fancyhead[CE,CO]{${(\:}$\raisebox{.1em}{\thepage}${\:)}$}
\pagestyle{fancy}
\geometry{headsep=.5cm}

\usepackage{tikz}
\usepackage{tikz-3dplot}
\usetikzlibrary{calc}
\usetikzlibrary{arrows, arrows.meta}
\usetikzlibrary{decorations.markings}
\usetikzlibrary{patterns}

\usepackage[T2A, T1]{fontenc}
\usepackage[english, russian]{babel}

\def\horizontalindent{4ex}
\setlength{\parindent}{\horizontalindent} % offset of the first line
\usepackage{indentfirst}

\usepackage{setspace}
\setstretch{1.3} % spacing between lines

\usepackage{microtype}

\usepackage{tempora}
\usepackage{upgreek}

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{wasysym}

\usepackage{xargs}
\usepackage{xifthen}

\newcommand{\lquote}[0]{«} % {<<}
\newcommand{\rquote}[0]{»} % {>>}
\newcommand{\inquotes}[1]{\lquote{#1}\rquote}

\begin{document}

\input{commonforallbeams.tex}

\def\forcearrowscale{4}

\thispagestyle{empty} % no numbering for 1st page

\begin{center}
\vspace*{\fill}

{\large \textbf{Домашнее задание №\hspace{.33ex}3}}

\vspace{1cm}

{\large \MakeUppercase{Сложное напряжённое состояние}}

\vspace{7cm}
\vspace*{\fill}
\end{center}

\newpage

\input{beamfirst.tex}

\tikzstyle{dimension arrow} = [ aux line thin, -{Stealth[ round, length=8pt, width=5.5pt ]} ]
\tikzstyle{dimension two arrows} = [ aux line thin, {Stealth[ round, length=8pt, width=5.5pt ]}-{Stealth[ round, length=8pt, width=5.5pt ]} ]

\newcommand\drawcirclesection{
\draw [ aux line thick, pattern=flexible hatch ]
	( 0, 0 ) circle ( \radiusofcircle ) ;
}

\def\angleofdimension{158}
\def\deltaradiusofdimension{.7}

\newcommand\drawcirclesectiondimensions{
\draw [ aux line thin, opacity=.8 ]
	( {\radiusofcircle * cos(\angleofdimension)}, {\radiusofcircle * sin(\angleofdimension)} )
	-- ( {\radiusofcircle * cos(\angleofdimension + 180)}, {\radiusofcircle * sin(\angleofdimension + 180)} ) ;
\draw [ dimension arrow ]
	( {(\radiusofcircle + \deltaradiusofdimension) * cos(\angleofdimension)}, {(\radiusofcircle + \deltaradiusofdimension) * sin(\angleofdimension)} )
	-- ( {\radiusofcircle * cos(\angleofdimension)}, {\radiusofcircle * sin(\angleofdimension)} ) ;
\draw [ dimension arrow ]
	( {(\radiusofcircle + \deltaradiusofdimension + .22) * cos(\angleofdimension + 180)}, {(\radiusofcircle + \deltaradiusofdimension + .22) * sin(\angleofdimension + 180)} )
	-- ( {\radiusofcircle * cos(\angleofdimension + 180)}, {\radiusofcircle * sin(\angleofdimension + 180)} ) ;
\draw [ aux line thin ]
	( {(\radiusofcircle + \deltaradiusofdimension + .22) * cos(\angleofdimension + 180)}, {(\radiusofcircle + \deltaradiusofdimension + .22) * sin(\angleofdimension + 180)} )
	-- ++( .74, 0 )
	node [ pos=.49, above, inner sep=0pt, outer sep=3pt ]
	{\scalebox{.8}{$ \scalebox{1.2}{\diameter} \hspace{-.3ex} D $}} ;
}

\newcommand\drawrectangularsection{
\draw [ aux line thick, rounded corners=.5\pgflinewidth, pattern=flexible hatch ]
	( -.5*\widthofsquare, .5*\heightofsquare )
	-- ( .5*\widthofsquare, .5*\heightofsquare )
	-- ( .5*\widthofsquare, -.5*\heightofsquare )
	-- ( -.5*\widthofsquare, -.5*\heightofsquare )
	-- cycle ;
}

\def\dimensionlinelength{1}

\newcommand\drawrectangularsectiondimensions{
\draw [ aux line thin ]
	( .5*\widthofsquare, .5*\heightofsquare ) -- ++( \dimensionlinelength, 0 ) ;
\draw [ aux line thin ]
	( .5*\widthofsquare, -.5*\heightofsquare ) -- ++( \dimensionlinelength, 0 ) ;

\draw [ dimension two arrows ]
	( {.5*\widthofsquare + .8*\dimensionlinelength}, .5*\heightofsquare )
	-- ++( 0, -\heightofsquare )
	node [ pos=.51, left, inner sep=0pt, outer sep=3pt ]
	{\scalebox{.8}{$ H $}} ;

\draw [ aux line thin ]
	( .5*\widthofsquare, -.5*\heightofsquare ) -- ++( 0, -\dimensionlinelength ) ;
\draw [ aux line thin ]
	( -.5*\widthofsquare, -.5*\heightofsquare ) -- ++( 0, -\dimensionlinelength ) ;

\draw [ dimension two arrows ]
	( -.5*\widthofsquare, {-.5*\heightofsquare - .8*\dimensionlinelength} )
	-- ++( \widthofsquare, 0 )
	node [ pos=.5, above, inner sep=0pt, outer sep=4pt ]
	{\scalebox{.8}{$ B $}} ;
}

\def\camerafirstangle{57} % 60
\def\camerasecondangle{142} % 140

\tdplotsetmaincoords{\camerafirstangle}{\camerasecondangle}

\begin{center}

\textbf{Задача 1\raisebox{.7ex}{\small я}}
\vspace{.4cm}

Определить размер сечения для~бруса кругового профиля с~диаметром~$D$
и~для~бруса прямоугольного сечения с~размерами ${H \!\times\! B}$\hbox{,\hspace{.2ex}} $B$~--- ширина\hbox{,\hspace{.2ex}} ${H \hspace{-.5ex}=\hspace{-.3ex} 2B}$~--- высота
\vspace{.6cm}

\scalebox{1.25}{
\begin{tikzpicture}[ scale=1 ]

\begin{scope}[xshift=-2.2cm]
\def\radiusofcircle{1}
\drawcirclesection
\drawcirclesectiondimensions
\end{scope}

\begin{scope}[xshift=2.2cm]
\def\widthofsquare{1.3}
\pgfmathsetmacro\heightofsquare{2*\widthofsquare}

\drawrectangularsection
\drawrectangularsectiondimensions
\end{scope}

\end{tikzpicture}
}

\vspace{.6cm}

${F \hspace{-.5ex}=\hspace{-.4ex} 1\:}$кН\hbox{,\hspace{.5ex}}
${\ell \!=\! 200\:}$мм\hbox{,\hspace{.5ex}}
${\sigma_{\mathrm{\scalebox{.6}{T}p}} \hspace{-.5ex}=\hspace{-.3ex} \sigma_{\mathrm{\scalebox{.6}{T}c}} \hspace{-.5ex}=\hspace{-.3ex} 300\:}$МПа\hbox{,\hspace{.5ex}}
${n_{\mathrm{\scalebox{.6}{T}}} \hspace{-.44ex}=\hspace{-.33ex} 2}$

\vspace{1.2cm}

\emph{Вариант №\hspace{.33ex}8}
\vspace{.8cm}

\scalebox{1}{
\begin{tikzpicture}[ scale=1 ]

\pgfmathsetmacro\cornerlength{\reflength / 20}

\drawclampyz{( 0, 0, 0 )}
\drawfirstbeam
\drawfirstbeamtext

\def\externalforcecolor{\colorforforces}

\drawload{( {\firstforcepointx}, {\firstforcepointy}, {\firstforcepointz} )}{( {\firstforcevectorx * \forcearrowscale}, {\firstforcevectory * \forcearrowscale}, {\firstforcevectorz * \forcearrowscale} )}{pos=.2, below, inner sep=0pt, outer sep=10pt}{\scalebox{\textscale}{$ F $}}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.2, right, inner sep=0pt, outer sep=5pt}{\scalebox{\textscale}{$ F $}}
\end{tikzpicture}
}

\end{center}

\newpage

Эпюры внутренних моментов от каждой из внешних сил отдельно:
\vspace{.5cm}

\begin{center}

\scalebox{1}{
\begin{tikzpicture}[ scale=1 ]

\begin{scope}[ yshift=6.5cm ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawfirstbeam

\def\externalforcecolor{blue}

\drawload{( {\firstforcepointx}, {\firstforcepointy}, {\firstforcepointz} )}{( {\firstforcevectorx * \forcearrowscale}, {\firstforcevectory * \forcearrowscale}, {\firstforcevectorz * \forcearrowscale} )}{pos=.2, below, inner sep=0pt, outer sep=10pt}{\scalebox{\textscale}{$ F $}}

\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{0}
\def\twistingmomentmultiplierz{-1}
\def\twistingmomentepureoffset{.4*\reflength}

\def\spiralaxialstep{1.25}
\def\spiralinitialangle{80}
\def\wherefirstarrowonspiral{0.07}

\drawepureofinternalmomentfromfirstforce

\end{scope}

\begin{scope}[ yshift=-6.5cm ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawfirstbeam

\def\externalforcecolor{red}

\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{-1}
\def\twistingmomentmultiplierz{0}
\def\twistingmomentepureoffset{\reflength / 3}

\def\spiralaxialstep{1.1}
\def\spiralinitialangle{-150}
\def\wherefirstarrowonspiral{0.055}

\drawepureofinternalmomentfromsecondforce

\drawthirdpartofbeam
\drawfourthpartofbeam

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.2, right, inner sep=0pt, outer sep=5pt}{\scalebox{\textscale}{$ F $}}

\end{scope}

\end{tikzpicture}
}

\end{center}

\newpage

Эпюра внутренних моментов от всех внешних нагрузок:
\vspace{.5cm}

\begin{center}

\scalebox{1}{
\begin{tikzpicture}[ scale=1 ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawfirstbeam

\def\twistingmomentepureoffset{.4*\reflength}
\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{0}
\def\twistingmomentmultiplierz{1}

\drawepureofinternalmomentfrombothforces{blue}{red}{magenta}

\def\externalforcecolor{blue}

\drawload{( {\firstforcepointx}, {\firstforcepointy}, {\firstforcepointz} )}{( {\firstforcevectorx * \forcearrowscale}, {\firstforcevectory * \forcearrowscale}, {\firstforcevectorz * \forcearrowscale} )}{pos=.2, below, inner sep=0pt, outer sep=10pt}{\scalebox{\textscale}{$ F $}}

\def\externalforcecolor{red}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.2, left, inner sep=0pt, outer sep=6pt}{\scalebox{\textscale}{$ F $}}

\end{tikzpicture}
}
\end{center}

\vspace{.3cm}

Наиболее нагруженная точка~--- у~закрепления (заделки).

\vspace{.5cm}

\begin{center}

\emph{Круглое сечение}
\vspace{.7cm}

\scalebox{1.4}{
\begin{tikzpicture}[ scale=1 ]

\def\radiusofcircle{1}
\drawcirclesection
\drawcirclesectiondimensions

\end{tikzpicture}
}

\end{center}

Осевой момент инерции круглого сечения вокруг любой оси, проходящей через центр круга:
\[
\mathfrak{I}_{\hspace{-0.1ex}\scalebox{.8}{$x$}} \hspace{-0.25ex}=\hspace{-0.1ex}
\mathfrak{I}_{\hspace{-0.1ex}\scalebox{.8}{$y$}} \hspace{-0.25ex}=\hspace{-0.1ex}
\displaystyle\frac{\raisebox{-0.18em}{$\pi \hspace{-0.1ex} D^{\hspace{.1ex}4}$}}{64}
\]

Полярный момент инерции круглого сечения:
\[
\mathfrak{I}_{\hspace{-0.2ex}\scalebox{.8}{$\rho$}} \hspace{-0.25ex}=\hspace{-0.1ex}
\displaystyle\frac{\raisebox{-0.18em}{$\pi \hspace{-0.1ex} D^{\hspace{.1ex}4}$}}{32}
\]

\vspace{.8cm}

\begin{center}

\emph{Прямоугольное сечение}
\vspace{.7cm}

\scalebox{1.4}{
\begin{tikzpicture}[ scale=1 ]

\def\widthofsquare{1.4}
\pgfmathsetmacro\heightofsquare{2*\widthofsquare}
\drawrectangularsection
\drawrectangularsectiondimensions

\end{tikzpicture}
}

\end{center}

Осевые моменты инерции прямоугольного сечения:
\[
\mathfrak{I}_{\hspace{-0.1ex}\scalebox{.8}{$x$}} \hspace{-0.25ex}=\hspace{-0.1ex}
\displaystyle\frac{\raisebox{-0.18em}{$B \hspace{-0.1ex} H^{\hspace{.1ex}3}$}}{12}
\hspace{.1ex} , \hspace{.4em}
 \mathfrak{I}_{\hspace{-0.1ex}\scalebox{.8}{$y$}} \hspace{-0.25ex}=\hspace{-0.1ex}
\displaystyle\frac{\raisebox{-0.18em}{$H \hspace{-0.1ex} B^{\hspace{.1ex}3}$}}{12}
\]

Коэффициент пропорциональности~${\mathfrak{I}_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}}}$ (\inquotes{геометрическая жёсткость}, \inquotes{момент инерции для кручения}) между внутренним крутящим моментом~${M_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}}}$ и~${G \hspace{.1ex} \Theta}$:
\[
M_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}} \hspace{-0.3ex}=\hspace{-0.1ex}
\mathfrak{I}_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}} \hspace{.1ex} G \hspace{.1ex} \Theta
\hspace{.1ex} , \hspace{.33em}
\mathfrak{I}_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}} \hspace{-0.3ex}=\hspace{-0.1ex}
\upbeta \hspace{.1ex} B^{\hspace{.1ex}3} \hspace{-0.2ex} H
, \hspace{.33em}
%
\upbeta \hspace{-0.2ex}=\hspace{-0.1ex}
\scalebox{.88}{$\displaystyle\frac{\raisebox{-0.18em}{$1$}}{3}$}
\hspace{-0.1ex}-\hspace{-0.1ex} \displaystyle\frac{\raisebox{-0.18em}{\scalebox{.88}{$64$}}}{\pi^5} \hspace{.2ex} \displaystyle\frac{\raisebox{-0.2em}{$B$}}{H} \displaystyle\sum_{\mathclap{\hspace{.4em}j=1,3,..}}^{\raisebox{-0.1em}{\scalebox{.75}{$\infty$}}} j^{-5} \operatorname{tanh} \hspace{-0.33ex} \left( \displaystyle\frac{\raisebox{-0.18em}{$\pi \hspace{-0.1ex} j$}}{\scalebox{.88}{$2$}} \hspace{.2ex} \displaystyle\frac{\raisebox{-0.2em}{$H$}}{B} \hspace{.1ex} \right)
\vspace{-.6em}\]
($B$~--- меньшая сторона)
\vspace{.5em}

Коэффициент пропорциональности~${W_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}}}$ между внутренним крутящим моментом~${M_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}}}$ и~максимальным касательным напряжением в~сечении (в~точке на~контуре посередине б\'{о}льшей стороны прямоугольника):
\[
M_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}} \hspace{-0.3ex}=\hspace{-0.1ex}
W_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}} \hspace{.1ex} \uptau_{\mathrm{max}}
\hspace{.1ex} , \hspace{.33em}
W_{\hspace{-0.1ex}\mathrm{\scalebox{.6}{K}}} \hspace{-0.3ex}=\hspace{-0.1ex}
\upalpha \hspace{.2ex} B^{\hspace{.1ex}2} \hspace{-0.2ex} H
, \hspace{.33em}
%
\upalpha \hspace{-0.2ex}=\hspace{-0.1ex}
\displaystyle\frac{\raisebox{-0.1em}{$\upbeta \hspace{.1ex} \pi^2$}}{8 \hspace{.4ex}
\scalebox{1}{$\displaystyle\sum_{\mathclap{\hspace{.4em}\scalebox{1}{$\scriptstyle j=1,3,..$}}}^{\raisebox{-0.1em}{\scalebox{.75}{$\infty$}}}$} \hspace{.3ex} j^{-2} \Biggl( \hspace{-.1ex} 1 - \displaystyle\frac{\raisebox{-0.1em}{\scalebox{.96}{$1$}}}{%
\scalebox{.93}{$
\operatorname{cosh} \hspace{-0.33ex} \left( \hspace{-0.1ex} \displaystyle\frac{\raisebox{-0.18em}{$\pi \hspace{-0.1ex} j$}}{\scalebox{.88}{$2$}} \hspace{.2ex} \displaystyle\frac{\raisebox{-0.2em}{$H$}}{B} \hspace{.1ex} \right)
$}} \Biggr)}
\]

\begin{minipage}{\linewidth}
Для ${\hspace{.2ex}\scalebox{.84}{$\displaystyle\frac{\raisebox{-0.2em}{$H$}}{B}$} \hspace{-0.3ex}=\hspace{-0.2ex} 2}$:
\vspace{.2cm}

${\upbeta \hspace{-0.2ex}=\hspace{-0.1ex}
0.22868167711958}$
\hspace{.2ex}
(вычислено с~точностью ${10^{-15}}$ до ${j \hspace{-0.33ex}=\hspace{-0.3ex} 1001}$)

${\upalpha \hspace{-0.2ex}=\hspace{-0.1ex}
0.24587834540483}$
\hspace{.2ex}
(с~точностью ${10^{-15}}$ до ${j \hspace{-0.33ex}=\hspace{-0.3ex} 31622777}$)
\end{minipage}

\vspace{1cm}

... продолжение ...

\vspace{1cm}

\tikzstyle{cube side} = [ aux line thick, rounded corners=.5\pgflinewidth, fill=white ]

% parameter is the side of cube
\newcommand\drawcube[1]{
	\draw [ cube side, tdplot_main_coords ]
		( 0, 0, 0 ) -- ( #1, 0, 0 ) -- ( #1, #1, 0 ) -- ( 0, #1, 0 )
		-- cycle ;
	\draw [ cube side, tdplot_main_coords ]
		( 0, 0, 0 ) -- ( 0, #1, 0 ) -- ( 0, #1, #1 ) -- ( 0, 0, #1 )
		-- cycle ;
	\draw [ cube side, tdplot_main_coords ]
		( 0, 0, 0 ) -- ( #1, 0, 0 ) -- ( #1, 0, #1 ) -- ( 0, 0, #1 )
		-- cycle ;
	\draw [ cube side, tdplot_main_coords ]
		( 0, #1, 0 ) -- ( #1, #1, 0 ) -- ( #1, #1, #1 ) -- ( 0, #1, #1 )
		-- cycle ;
	\draw [ cube side, tdplot_main_coords ]
		( 0, 0, #1 ) -- ( #1, 0, #1 ) -- ( #1, #1, #1 ) -- ( 0, #1, #1 )
		-- cycle ;
	\draw [ cube side, tdplot_main_coords ]
		( #1, 0, 0 ) -- ( #1, #1, 0 ) -- ( #1, #1, #1 ) -- ( #1, 0, #1 )
		-- cycle ;
}

\tikzstyle{axis with arrow} = [ aux line thin, -{To[round, length=8pt, width=10pt]} ]

\newcommand\drawaxes{
\draw [ axis with arrow, tdplot_main_coords ]
	( 0, 0, 0 ) -- ++( \showcoordinatelength, 0, 0 )
	node [ pos=1.05, below, shape=circle, inner sep=0pt, outer sep=4.4pt ]
		{\scalebox{\textscale}{$ x $}} ;
\draw [ axis with arrow, tdplot_main_coords ]
	( 0, 0, 0 ) -- ++( 0, \showcoordinatelength, 0 )
	node [ pos=1, below, shape=circle, inner sep=0pt, outer sep=6.3pt ]
		{\scalebox{\textscale}{$ y $}} ;
\draw [ axis with arrow, tdplot_main_coords ]
	( 0, 0, 0 ) -- ++( 0, 0, .9*\showcoordinatelength )
	node [ pos=1, above, shape=circle, inner sep=0pt, outer sep=3.3pt ]
		{\scalebox{\textscale}{$ z $}} ;
}

\def\sideofcube{1.5}

\def\showcoordinatelength{3}

\begin{center}

\scalebox{1.1}{
\begin{tikzpicture}[ scale=1.2 ]

\begin{scope}[xshift=-3cm]

\tdplotsetmaincoords{66}{133}
\drawaxes
\drawcube{\sideofcube}

\def\stresscolor{black}
\def\stresslength{1.55}
\draw [ external force, color=\stresscolor, tdplot_main_coords ]
	( {\sideofcube}, {.5*\sideofcube}, {.5*\sideofcube} ) -- ++( \stresslength, 0, 0 )
	node [ pos=1, above, inner sep=0pt, outer sep=11pt ]
	{ \scalebox{\textscale}{$ \upsigma_{\hspace{-0.2ex}\scalebox{.8}{$x$}} $} } ;

\end{scope}

\begin{scope}[xshift=3cm]

\tdplotsetmaincoords{66}{133}
\drawaxes
\drawcube{\sideofcube}

\def\stresscolor{black}
\def\stresslength{1.55}
\draw [ external force, color=\stresscolor, tdplot_main_coords ]
	( {\sideofcube}, {.5*\sideofcube}, {.5*\sideofcube} ) -- ++( \stresslength, 0, 0 )
	node [ pos=1, above, inner sep=0pt, outer sep=10pt ]
	{ \scalebox{\textscale}{$ \upsigma_{\hspace{-0.2ex}\scalebox{.8}{$x$}} $} } ;

\end{scope}

\end{tikzpicture}
}

\end{center}

% ~ ~ ~ ~
\newpage
% ~ ~ ~ ~

\input{Fbeam.tex}

\def\camerafirstangle{60} % 60
\def\camerasecondangle{140} % 140

\tdplotsetmaincoords{\camerafirstangle}{\camerasecondangle}

\begin{center}
\textbf{Задача 2\raisebox{.7ex}{\small я}}
\vspace{.4cm}

Построить эпюры изгибающих и крутящих моментов
\vspace{1cm}

\emph{Вариант №\hspace{.33ex}8}
\vspace{.8cm}

\scalebox{1.1}{
\begin{tikzpicture}[ scale=1 ]

\pgfmathsetmacro\cornerlength{\reflength / 20}

\drawclampyz{( 0, 0, 0 )}
\drawbeam
\drawbeamtext

\def\externalforcecolor{\colorforforces}

\drawload{( {\firstforcepointx}, {\firstforcepointy}, {\firstforcepointz} )}{( {\firstforcevectorx * \forcearrowscale}, {\firstforcevectory * \forcearrowscale}, {\firstforcevectorz * \forcearrowscale} )}{pos=.1, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.6, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\end{tikzpicture}
}
\end{center}

\vspace{2cm}

Для линейно-упругих систем примен\'{и}м принцип независимости действия сил, согласно которому
результат от действия \emph{всех} нагрузок аналогичен сумме действий от \emph{каждой} из нагрузок.
Поэтому, для решения задачи найдём внутренний момент от каждой внешней силы по отдельности.

\begin{center}
\vspace*{1cm}
\scalebox{1}{
\begin{tikzpicture}[ scale=1.1 ]

\begin{scope}[ yshift=4.4cm ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawbeam

\def\externalforcecolor{red}

\drawload{( {\firstforcepointx}, {\firstforcepointy}, {\firstforcepointz} )}{( {\firstforcevectorx * \forcearrowscale}, {\firstforcevectory * \forcearrowscale}, {\firstforcevectorz * \forcearrowscale} )}{pos=.1, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{0}
\def\twistingmomentmultiplierz{1}
\def\twistingmomentepureoffset{\reflength / 3}

\drawepureofinternalmomentfromfirstforce

\end{scope}

\begin{scope}[ yshift=-4.4cm ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawbeam

\def\externalforcecolor{blue}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.6, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{1}
\def\twistingmomentmultiplierz{0}

\def\spiralaxialstep{1.1}
\def\spiralinitialangle{-140}

\drawepureofinternalmomentfromsecondforce

\end{scope}

\end{tikzpicture}
}
\end{center}

\newpage

Сложение эпюр от отдельных внешних сил даёт суммарную эпюру от всех сил, действующих на конструкцию.
Суммарная эпюра:

\begin{center}
\vspace{1cm}

\scalebox{1}{
\begin{tikzpicture}[ scale=1.2 ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawbeam

\def\externalforcecolor{red}

\drawload{( {\firstforcepointx}, {\firstforcepointy}, {\firstforcepointz} )}{( {\firstforcevectorx * \forcearrowscale}, {\firstforcevectory * \forcearrowscale}, {\firstforcevectorz * \forcearrowscale} )}{pos=.1, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\def\externalforcecolor{blue}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.6, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\def\twistingmomentepureoffset{.4*\reflength}
\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{0}
\def\twistingmomentmultiplierz{1}

\drawepureofinternalmomentfrombothforces{red}{blue}{magenta}

\end{tikzpicture}
}
\end{center}

% ~ ~ ~ ~
\newpage
% ~ ~ ~ ~

\def\camerafirstangle{55} % 60, 55
\def\camerasecondangle{130} % 135, 130

\tdplotsetmaincoords{\camerafirstangle}{\camerasecondangle}

\begin{center}
\textbf{Задача 3\raisebox{.7ex}{\small я}}
\vspace{.4cm}

Построить эпюры изгибающих и крутящих моментов
\vspace{1cm}

\emph{Вариант №\hspace{.33ex}8}
\vspace{.8cm}

\scalebox{1.1}{
\begin{tikzpicture}[ scale=1 ]

\pgfmathsetmacro\cornerlength{\reflength / 20}

\drawclampyz{( 0, 0, 0 )}
\drawbeamtwo
\drawbeamtwotext

\def\externalforcecolor{\colorforforces}

%%\drawload{( {\firstforcepointx}, {\firstforcepointy}, {\firstforcepointz} )}{( {\firstforcevectorx * \forcearrowscale}, {\firstforcevectory * \forcearrowscale}, {\firstforcevectorz * \forcearrowscale} )}{pos=.1, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.6, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\drawload{( {\thirdforcepointx}, {\thirdforcepointy}, {\thirdforcepointz} )}{( {\thirdforcevectorx * \forcearrowscale}, {\thirdforcevectory * \forcearrowscale}, {\thirdforcevectorz * \forcearrowscale} )}{pos=.33, left, inner sep=0pt, outer sep=6pt}{\scalebox{\textscale}{$ P $}}

\end{tikzpicture}
}
\end{center}

\vspace{2cm}

Для решения, как и в~предыдущей задаче, используется принцип независимости действия сил.

\begin{center}
\vspace*{1cm}
\scalebox{1}{
\begin{tikzpicture}[ scale=1.1 ]

\begin{scope}[ yshift=4.4cm ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawbeamtwo

\def\externalforcecolor{green}

\drawload{( {\thirdforcepointx}, {\thirdforcepointy}, {\thirdforcepointz} )}{( {\thirdforcevectorx * \forcearrowscale}, {\thirdforcevectory * \forcearrowscale}, {\thirdforcevectorz * \forcearrowscale} )}{pos=.33, left, inner sep=0pt, outer sep=6pt}{\scalebox{\textscale}{$ P $}}

\drawepureofinternalmomentfromthirdforce

\end{scope}

\begin{scope}[ yshift=-4.4cm ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawbeamtwo

\def\externalforcecolor{blue}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.6, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{1}
\def\twistingmomentmultiplierz{0}

\def\spiralaxialstep{1.1}
\def\spiralinitialangle{-140}

\drawepureofinternalmomentfromsecondforce

\end{scope}

\end{tikzpicture}
}
\end{center}

\newpage

Суммарная эпюра:

\begin{center}
\vspace{1cm}

\scalebox{1}{
\begin{tikzpicture}[ scale=1.2 ]

\pgfmathsetmacro\cornerlength{\reflength / 32}

\drawbeamtwo

\def\externalforcecolor{green}

\drawload{( {\thirdforcepointx}, {\thirdforcepointy}, {\thirdforcepointz} )}{( {\thirdforcevectorx * \forcearrowscale}, {\thirdforcevectory * \forcearrowscale}, {\thirdforcevectorz * \forcearrowscale} )}{pos=.33, left, inner sep=0pt, outer sep=6pt}{\scalebox{\textscale}{$ P $}}

\def\externalforcecolor{blue}

\drawload{( {\secondforcepointx}, {\secondforcepointy}, {\secondforcepointz} )}{( {\secondforcevectorx * \forcearrowscale}, {\secondforcevectory * \forcearrowscale}, {\secondforcevectorz * \forcearrowscale} )}{pos=.6, below, inner sep=0pt, outer sep=11pt}{\scalebox{\textscale}{$ P $}}

\def\twistingmomentepureoffset{.55*\reflength}
\def\twistingmomentmultiplierx{0}
\def\twistingmomentmultipliery{-1}
\def\twistingmomentmultiplierz{0}
\def\spiralaxialstep{1.1}
\def\spiralinitialangle{-75}

\drawepureofinternalmomentfromthirdandsecondforces{green}{blue}{cyan}

\end{tikzpicture}
}
\end{center}

\end{document}
